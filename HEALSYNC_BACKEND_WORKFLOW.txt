HEALSYNC BACKEND WORKFLOW - SIMPLIFIED FLOWCHART
================================================

HOW THE HEALSYNC BACKEND WORKS
==============================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        HEALSYNC BACKEND FLOW                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. REQUEST ENTRY POINT
======================
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Frontend   â”‚
                    â”‚ (React App) â”‚
                    â”‚ Makes API   â”‚
                    â”‚   Call      â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTP Request
                          â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Spring    â”‚
                    â”‚   Boot      â”‚
                    â”‚ Application â”‚
                    â”‚ (Port 8080) â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼

2. CONTROLLER LAYER
===================
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ @Controller â”‚
                    â”‚   Routes    â”‚
                    â”‚             â”‚
                    â”‚ â€¢ Patient   â”‚
                    â”‚ â€¢ Doctor    â”‚
                    â”‚ â€¢ Appointmentâ”‚
                    â”‚ â€¢ Message   â”‚
                    â”‚ â€¢ Treatment â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Delegates to
                          â–¼

3. SERVICE LAYER (Business Logic)
=================================
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  @Service   â”‚
                    â”‚   Classes   â”‚
                    â”‚             â”‚
                    â”‚ â€¢ Validates â”‚
                    â”‚ â€¢ Processes â”‚
                    â”‚ â€¢ Transformsâ”‚
                    â”‚ â€¢ Calls DB  â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Uses
                          â–¼

4. REPOSITORY LAYER (Data Access)
=================================
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚@Repository  â”‚
                    â”‚ Interfaces  â”‚
                    â”‚             â”‚
                    â”‚ â€¢ JPA       â”‚
                    â”‚ â€¢ Hibernate â”‚
                    â”‚ â€¢ Custom    â”‚
                    â”‚   Queries   â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Connects to
                          â–¼

5. DATABASE
===========
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   MySQL     â”‚
                    â”‚  Database   â”‚
                    â”‚             â”‚
                    â”‚ â€¢ Tables    â”‚
                    â”‚ â€¢ Relations â”‚
                    â”‚ â€¢ Data      â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Returns Data
                          â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Response   â”‚
                    â”‚ Back to     â”‚
                    â”‚  Frontend   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

=============================================================================
DETAILED BACKEND WORKFLOW
=============================================================================

PATIENT LOGIN EXAMPLE:
======================

Frontend Request
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /v1/healsync/patient/login
â”‚ React Form  â”‚ â”€â”€â–¶ {email: "user@email.com", password: "pass123"}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚PatientAuth  â”‚ â”€â”€â–¶ @PostMapping("/login")
â”‚Controller   â”‚     public ResponseEntity<PatientDto> login(...)
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ calls
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚PatientAuth  â”‚ â”€â”€â–¶ validateCredentials(email, password)
â”‚Service      â”‚     â€¢ Check email exists
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â€¢ Verify password hash
      â”‚ uses        â€¢ Return patient data
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Patient      â”‚ â”€â”€â–¶ findByEmail(email)
â”‚Repository   â”‚     â€¢ JPA Query to MySQL
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â€¢ Returns Patient entity
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MySQL     â”‚ â”€â”€â–¶ SELECT * FROM patient WHERE email = ?
â”‚  Database   â”‚     Returns: Patient record
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼ (Response flows back up)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Return    â”‚ â”€â”€â–¶ PatientDto with profile data
â”‚ to Frontend â”‚     Status: 200 OK or 401 Unauthorized
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

APPOINTMENT BOOKING EXAMPLE:
============================

Frontend Request
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /v1/healsync/book/appointment
â”‚ Booking     â”‚ â”€â”€â–¶ ?specialty=Cardiology&startTime=10:00&patientId=1
â”‚ Form        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Appointment  â”‚ â”€â”€â–¶ @PostMapping("/appointment")
â”‚Controller   â”‚     public ResponseEntity<AppointmentDto> book(...)
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ calls
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Appointment  â”‚ â”€â”€â–¶ bookAppointment(specialty, time, patientId)
â”‚Service      â”‚     â€¢ Find available doctors
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â€¢ Check doctor schedule
      â”‚ uses        â€¢ Create appointment
      â–¼             â€¢ Return details
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Doctor &     â”‚ â”€â”€â–¶ findBySpecialty(specialty)
â”‚Appointment  â”‚     findDoctorAvailability(doctorId, time)
â”‚Repository   â”‚     save(appointmentEntity)
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MySQL     â”‚ â”€â”€â–¶ Multiple queries:
â”‚  Database   â”‚     1. SELECT doctors WHERE specialty = ?
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     2. CHECK schedule conflicts
      â”‚             3. INSERT new appointment
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Return    â”‚ â”€â”€â–¶ AppointmentDto with doctor & time details
â”‚ to Frontend â”‚     Status: 200 OK with appointment ID
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MESSAGE SENDING EXAMPLE:
========================

Frontend Request
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /v1/healsync/messages/send
â”‚ Chat        â”‚ â”€â”€â–¶ {senderId: 1, receiverId: 2, message: "Hello"}
â”‚ Interface   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Message      â”‚ â”€â”€â–¶ @PostMapping("/send")
â”‚Controller   â”‚     public ResponseEntity<MessageDto> send(...)
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ calls
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Message      â”‚ â”€â”€â–¶ sendMessage(request)
â”‚Service      â”‚     â€¢ Validate participants
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â€¢ Save message
      â”‚ uses        â€¢ Update conversation
      â–¼             â€¢ Send real-time notification
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Message &    â”‚ â”€â”€â–¶ save(messageEntity)
â”‚Conversation â”‚     updateLastMessage(conversationId)
â”‚Repository   â”‚     incrementUnreadCount(receiverId)
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MySQL     â”‚ â”€â”€â–¶ 1. INSERT into message table
â”‚  Database   â”‚     2. UPDATE conversation table
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     3. UPDATE unread counts
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Return    â”‚ â”€â”€â–¶ MessageDto with timestamp & ID
â”‚ to Frontend â”‚     Status: 200 OK
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     + WebSocket notification to receiver

=============================================================================
KEY BACKEND COMPONENTS
=============================================================================

SPRING BOOT STRUCTURE:
======================
src/main/java/com/hackathon/healsync/
â”‚
â”œâ”€â”€ HealsyncApplication.java          â† Main application entry point
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ SecurityConfig.java           â† CORS & security settings
â”‚
â”œâ”€â”€ controller/                       â† REST API endpoints
â”‚   â”œâ”€â”€ PatientAuthController.java    â† Patient login/register
â”‚   â”œâ”€â”€ DoctorController.java         â† Doctor management
â”‚   â”œâ”€â”€ AppointmentController.java    â† Booking appointments
â”‚   â”œâ”€â”€ MessageController.java        â† Chat system
â”‚   â””â”€â”€ TreatmentPlanController.java  â† Medical treatments
â”‚
â”œâ”€â”€ service/                          â† Business logic layer
â”‚   â”œâ”€â”€ PatientService.java           â† Patient operations
â”‚   â”œâ”€â”€ DoctorService.java            â† Doctor operations
â”‚   â”œâ”€â”€ AppointmentService.java       â† Appointment logic
â”‚   â”œâ”€â”€ MessageService.java           â† Messaging logic
â”‚   â””â”€â”€ TreatmentPlanService.java     â† Treatment logic
â”‚
â”œâ”€â”€ repository/                       â† Database access layer
â”‚   â”œâ”€â”€ PatientRepository.java        â† Patient data access
â”‚   â”œâ”€â”€ DoctorRepository.java         â† Doctor data access
â”‚   â”œâ”€â”€ AppointmentRepository.java    â† Appointment data access
â”‚   â”œâ”€â”€ MessageRepository.java        â† Message data access
â”‚   â””â”€â”€ TreatmentPlanRepository.java  â† Treatment data access
â”‚
â”œâ”€â”€ entity/                           â† Database table mappings
â”‚   â”œâ”€â”€ Patient.java                  â† Patient table
â”‚   â”œâ”€â”€ Doctor.java                   â† Doctor table
â”‚   â”œâ”€â”€ Appointment.java              â† Appointment table
â”‚   â”œâ”€â”€ Message.java                  â† Message table
â”‚   â””â”€â”€ TreatmentPlan.java            â† Treatment table
â”‚
â”œâ”€â”€ dto/                              â† Data transfer objects
â”‚   â”œâ”€â”€ PatientDto.java               â† Patient API responses
â”‚   â”œâ”€â”€ DoctorDto.java                â† Doctor API responses
â”‚   â”œâ”€â”€ AppointmentDto.java           â† Appointment API responses
â”‚   â””â”€â”€ MessageDto.java               â† Message API responses
â”‚
â””â”€â”€ mapper/                           â† Entity â†” DTO conversion
    â”œâ”€â”€ PatientMapper.java            â† Patient conversions
    â”œâ”€â”€ DoctorMapper.java             â† Doctor conversions
    â””â”€â”€ MessageMapper.java            â† Message conversions

=============================================================================
HOW DATA FLOWS THROUGH THE BACKEND
=============================================================================

REQUEST PROCESSING PATTERN:
===========================

1. HTTP Request arrives at Controller
2. Controller validates request parameters
3. Controller calls appropriate Service method
4. Service performs business logic & validation
5. Service calls Repository for database operations
6. Repository uses JPA/Hibernate to query MySQL
7. Database returns Entity objects
8. Service processes/transforms data
9. Mapper converts Entity to DTO
10. Controller returns DTO as JSON response

ERROR HANDLING PATTERN:
=======================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Error     â”‚â”€â”€â”€â–¶â”‚   Global    â”‚â”€â”€â”€â–¶â”‚   JSON      â”‚
â”‚  Occurs     â”‚    â”‚  Exception  â”‚    â”‚  Error      â”‚
â”‚ Anywhere    â”‚    â”‚  Handler    â”‚    â”‚ Response    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SECURITY FLOW:
==============

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HTTPS      â”‚â”€â”€â”€â–¶â”‚    CORS     â”‚â”€â”€â”€â–¶â”‚ Controller  â”‚
â”‚ Request     â”‚    â”‚ Validation  â”‚    â”‚   Method    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DATABASE CONNECTION:
====================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Application â”‚â”€â”€â”€â–¶â”‚ HikariCP    â”‚â”€â”€â”€â–¶â”‚   MySQL     â”‚
â”‚Startup      â”‚    â”‚Connection   â”‚    â”‚  Database   â”‚
â”‚             â”‚    â”‚   Pool      â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

=============================================================================
BACKEND DEPLOYMENT & RUNTIME
=============================================================================

LOCAL DEVELOPMENT:
==================
1. Start MySQL database (localhost:3306)
2. Run: ./gradlew bootRun
3. Backend starts on http://localhost:8080
4. All APIs available at http://localhost:8080/v1/healsync/*

PRODUCTION (Render.com):
========================
1. Code pushed to GitHub
2. Render automatically builds with Gradle
3. Starts Spring Boot application
4. Connects to cloud MySQL database
5. APIs available at https://healsync-backend-d788.onrender.com

SUMMARY: HOW THE BACKEND WORKS
===============================

The HealSync backend is a Spring Boot application that:

1. ğŸ“¡ Receives HTTP requests from React frontend
2. ğŸ›£ï¸  Routes requests through Controllers (REST endpoints)
3. ğŸ§  Processes business logic in Service layer
4. ğŸ’¾ Accesses MySQL database through Repository layer
5. ğŸ”„ Transforms data using Entity/DTO mappings
6. ğŸ“¤ Returns JSON responses to frontend

Key Features:
â€¢ RESTful API design
â€¢ Layered architecture (Controller â†’ Service â†’ Repository)
â€¢ JPA/Hibernate for database operations
â€¢ MySQL for data persistence
â€¢ CORS enabled for frontend communication
â€¢ Error handling with proper HTTP status codes
â€¢ Real-time messaging capabilities

The backend handles all core healthcare operations:
â€¢ Patient/Doctor authentication
â€¢ Appointment scheduling
â€¢ Treatment plan management
â€¢ Real-time messaging
â€¢ Medical data storage
